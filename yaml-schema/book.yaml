$schema: 'http://json-schema.org/draft-07/schema#'
$id: book
title: Book
description: 'A notebook data'
type: object
properties:
  _id:
    description: 'The unique notebook ID which should start with `book:` and the remains are randomly generated string'
    type: string
    minLength: 6
    maxLength: 128
    pattern: '^book:'
    example: 'book:9dc6a7a7'
  _rev:
    description: 'This is a CouchDB specific field. The current MVCC-token/revision of this document (mandatory and immutable)'
    type: string
    example: 14-813af5085bb6a2648c3f0aca37fc821f
  name:
    description: 'The notebook name'
    type: string
    minLength: 1
    maxLength: 64
  updatedAt:
    description: 'The date time when the notebook was last updated, represented with Unix timestamps in milliseconds'
    type: number
  createdAt:
    description: 'The date time when the notebook was created, represented with Unix timestamps in milliseconds'
    type: number
  count:
    description: 'It indicates the number of notes in the notebook'
    type: number
  parentBookId:
    description: 'The ID of the parent notebook'
    type: [string, 'null']
  icon:
    description: 'Custom icon for the notebook'
    type: object
    oneOf:
      - properties:
          type:
            description: 'Icon storage type'
            const: inline
          svg:
            description: 'The SVG icon data. Must be less than 256kb'
            type: string
            maxLength: 262144
        required:
          - type
          - svg
      - properties:
          type:
            description: 'Icon storage type'
            const: file
          docId:
            description: 'The document ID for the attachment file'
            type: string
            pattern: '^file:'
            minLength: 6
            maxLength: 128
        required:
          - type
          - docId

required:
  - _id
  - name
  - updatedAt
  - createdAt
